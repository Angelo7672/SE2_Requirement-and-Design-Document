Computer Science is a field where theory and practice are thightly coupuled and both very important.
Infact in theory it can be easily studied by reading books or following courses on specific topics, but in reality being able to practice the subject is the best way to consolidate studies from pure erudition to knowledge.
Moreover coworking with other people become a moment of improving personal knowledge with other people experience.
But for some people be able to work with other people is difficult for a multitude of reasons i.e work, geography ect... 
To help these people the CodeKataBattle platform aims to be a place where students can work in teams monitored by educators competing against other students programming code that gets scored and can be iteratively imporved, in order to reach the best score and win the tournament.
\subsection{Product Perspective}
\subsubsection{Scenarios}
\begin{enumerate}[label=$\bullet$ \textbf{SC\arabic*:}]
    \item \textbf{Student signs in to the platform to participate to tournaments}\\ Alice is studying programming all by herself and wants to evaluate her work. She accesses the Platform website and is intreagued to try it out. Alice signs in as a student giving her details like name, surname, e-mail,  year of birth and RMP handle. Once done that she will receive updates on new open tournaments. Moreover she can log in and be presented with a list of tournaments to which she can subscribe.
    \item \textbf{Student wants to participate to a tournament}\\ Dan, after studying a bit of javascript wants to apply its studies in a project. In order to do so he wants to participate in a tournament. He is already subscribed to the platform, so he can just log in to it and search a suitable tournament. After being presented of some valid choices, he clicks on one of them to see more details like description, educators, subscription deadline, subscribed teams and available badges. If he likes it, he clicks a "Subscribe" button, otherwise goes back and continues to search.
    \item \textbf{Student wants to participate to tournament with friend}\\ Bob, a user of the platform, got notified of the creation of an interesting tournament in which he wants to partecipate with his friend Carlo. Bob logs in to the website and subscribes to the tournament sending an invite to Carlo, who gets notified of the invitation and, once logged in to the platform, can choose to accept or to deny it; if he accepts Bob and Carlo result subscribed to the tournament as a team.
    \item \textbf{Educator signs in to the platform to create tournaments}\\ Eve is a teacher that, in order to widen her didactic offer, wants to create some tournaments for her students. She accesses the Platform website and is intreagued to use it. Eve signs in as a educator giving her details like name, surname, e-mail, year of birth, istitution and RMP handle. Then she logs in and is presented with a list of managed tournaments, empty for her, and the possibility to create new ones.
    \item \textbf{Educator wants to create a tournament}\\ Faith is a user of the platform signed in as an Educator and wants to create a tournament. She logs in to the website and is presented with the homepage, in which she can start to create the tournament by clicking a specific button. After clicking it she can enter details like Tournament name and detail, subscription deadline and badges, then click a "Create tournament" button that will create the tournament and bring her to the manager tournement page. 
    \item \textbf{Educator wants to manage a tournament with a colleague}\\ Grace is an educator who is managing a tournament, she finds that the work behind creating all battles of the tournament is a bit too dawnting, so she wants help. To do so she goes to the tournament managment page and by clicking a "add Educator" button she can send an invite to manage the tournament to her friend Heidi, an other educator registered to the platform. Heidi can accept the invite and create new battles for the tournament.
    \item \textbf{Team wants to work on a battle}\\ A team has subscribed to a tournament, and after the start of the tournament wants to work on a battle. Once on the tournament page, Isaac, a student of the team, is presented with the list of the available battles, he chooses one and gets to an other page with name, details, team scoreboard and a link to the repository in the RMP. Isaac is already registered in the RMP and can fork the repository, creating an effective copy of it in its profile. At this point he has to invite all other team members to join the battle by checking their RMP handles in their profiles. All team members have to accept the invitation, and can start to work on it. The owner of the forked repository has to put its link in the battle details to signal the platform of its existence.
    \item \textbf{Team wants to have work evaluated}\\ A team has worked on the battle and wants to check how is the quality of his work. In order to do so they only need to commit their changes and push their work to the RMP, this will be able to alert the platform of the new changes and will set off a pull of the files to be evaluated. After running all tests, these will generate points that will be combined to form a score. This score will be published near the name of the team in the leaderboard of the battle, and will update also the main tournament score of that team. Possible checks for badge assignment can be also done, and if satisfied, badges can be granted.
    \item \textbf{Team wants to see how it is placed in the tournament}\\ Angelo, a student participating in a tournament in a team, wants to know how well they are doing. To do so he can log in to the platform and go to the page of the tournament, on which he can see the leaderboard where he can find the overall score of the team. Angelo can also check specific battles visiting their specific page where the related battle leaderboard is shown.
    \item \textbf{User wants to check out other user's profile}\\ Michael, a user of the platform, wants to find the profile of his friend Nick to checkout on him. He logs in to the website in which he can search for other users via a specic bar, there searches for Nick, and clicking on his name goes to the profile page. Here he can see his details like: user type, name, surname, RMP handle and badges.
\end{enumerate}
\subsubsection{Domain Model}
\paragraph{Class diagram}
\usesvg{./Images/UML/classDiagram/entityClassDiagram.svg}

\subsubsection{Repository Manager Platform}
The Repository Manager Platform keeps the code of all battles of all tournaments of all teams. This can be a first or third party system that has to have some characteristic to be suitable to work on the CKB platform.\\
The repository is a folder in which code is stored and managed by a version control system (like Git) in which the code is saved via commits, special "save" operation of multiple files that are asssociated with comments and can be reverted as needed.\\
The repository manager platform is an online platform on which users can upload code for sharing purposes, this can be GitHub or GitLab (the two most famous), and has to have two main functionalities:\\
    an API (Application Programming Interface), technically needed for the CKB platform to pull (download, get) code to be analyzed and scored.\\
    the possibility of running automatic actions (like GitHub's Workflows) that trigger once new changes are pushed to the RMP platform, needed to signal the platform to run tests on the code.
\paragraph{State diagram}
\useSvgWithCaption{./Images/UML/stateDiagram/stateDiagram.svg}{Hallo}
The state diagram in figure describe the various states of the tournament and the battle.

\subsection{Assumptions}
\begin{enumerate}[label=$\bullet$ \textbf{D\arabic*:}]
    \item User has provided valid credentials - RMP handle, e-mail, name and surname
    \item User is registered to the RMP platform
    \item User has a functioning device capable of internet connection
    \item User has a functioning internet connection
    \item User can locally work on project files
    \item User use platform ethically
    \item Educators correctly set the repositiory for each battle
    \item Educators create tournaments adhequate for the platform
    \item Educators allow Students to fork battle repository
    \item Teams fork repository once for battle
    \item Teams work on their forked repositories
    \item Students don't allow students out of their team access to modify code in their repositiory
    \item Students allow tournament educators access to their team repository
    \item Teams declare coherent liks to their battle repositories
    \item RMP is able to notify the platform once every push
    \item RMP is able to reliably store battle source code
    \item RMP API is accessible to third party applications
    \item RMP bases itself on version control system
\end{enumerate}
\subsection{Constraints}
\paragraph{Security Constraints}
Given her nature, this platform is more vulnerable to security attacks then other ones. For this reason, especially in battle code evaluation, the platform needs to implement state of the art security policies in order to protect user data and safety.
\paragraph{Privacy Polices}
Personal user data and storic user data shall be stored and used only for legitimate use internal to the platform. Public to the platform user data has to be accessible only via the platfrm. Finally, none of the user data has to be used for commercial purposes and it's use has to be done in compliance with, to the user, local privacy policies. 
\paragraph{Platform Limitations}
User is required to use internet connection to access the platform, download code repository and upload code for evaluation. Out of these actions, Users can work on battles locally without the need of internet connections, if not specifically stated otherwise in the battle description.\\
Battle computational size and complexity has to be sized in order to be feasible to be coded and executed locally by students.\\
Platform does not allow for live code editing and execution, for this reason users have to be able to edit and run code locally.
