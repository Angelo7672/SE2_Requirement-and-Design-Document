<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="866px" preserveAspectRatio="none" style="width:1672px;height:866px;background:#FFFFFF;" version="1.1" viewBox="0 0 1672 866" width="1672px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="685.4082" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.5" y="91.4883"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="286.5" y="452.8359"/><rect fill="#FFFFFF" height="310.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="419" y="112.7988"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="419" y="511.457"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="419" y="731.5859"/><rect fill="#FFFFFF" height="252.1055" style="stroke:#181818;stroke-width:1.0;" width="10" x="743" y="142.1094"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="743" y="540.7676"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="743" y="702.2754"/><rect fill="#FFFFFF" height="193.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="1061" y="171.4199"/><rect fill="#FFFFFF" height="58.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="1061" y="599.3887"/><rect fill="#FFFFFF" height="117.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="1408" y="335.5938"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1408" y="570.0781"/><rect fill="#FFFFFF" height="55.2764" style="stroke:#181818;stroke-width:1.0;" width="10" x="1550.5" y="226.6963"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1550.5" y="628.6992"/><rect fill="none" height="471.9238" style="stroke:#000000;stroke-width:1.5;" width="1611.5" x="10" y="296.9727"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="38" x2="38" y1="81.4883" y2="785.8965"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="291.5" x2="291.5" y1="81.4883" y2="785.8965"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="423.5" x2="423.5" y1="81.4883" y2="785.8965"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="748" x2="748" y1="81.4883" y2="785.8965"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1065.5" x2="1065.5" y1="81.4883" y2="785.8965"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1412.5" x2="1412.5" y1="81.4883" y2="785.8965"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1555.5" x2="1555.5" y1="81.4883" y2="785.8965"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="20" y="78.5352">User</text><ellipse cx="38.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.5,21.5 L38.5,48.5 M25.5,29.5 L51.5,29.5 M38.5,48.5 L25.5,63.5 M38.5,48.5 L51.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="20" y="798.4316">User</text><ellipse cx="38.5" cy="809.8848" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.5,817.8848 L38.5,844.8848 M25.5,825.8848 L51.5,825.8848 M38.5,844.8848 L25.5,859.8848 M38.5,844.8848 L51.5,859.8848 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="237.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="244.5" y="70.5352">EmailProvider</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="237.5" y="784.8965"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="244.5" y="805.4316">EmailProvider</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="355.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="362.5" y="70.5352">WebServerModule</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="355.5" y="784.8965"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="362.5" y="805.4316">WebServerModule</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="706" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="713" y="70.5352">Controller</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="706" y="784.8965"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="713" y="805.4316">Controller</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="1007.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1014.5" y="70.5352">SignInManager</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="1007.5" y="784.8965"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1014.5" y="805.4316">SignInManager</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153" x="1336.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="1343.5" y="70.5352">NotificationManager</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153" x="1336.5" y="784.8965"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="1343.5" y="805.4316">NotificationManager</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="1499.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1506.5" y="70.5352">DBMSManager</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="1499.5" y="784.8965"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1506.5" y="805.4316">DBMSManager</text><rect fill="#FFFFFF" height="685.4082" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.5" y="91.4883"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="286.5" y="452.8359"/><rect fill="#FFFFFF" height="310.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="419" y="112.7988"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="419" y="511.457"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="419" y="731.5859"/><rect fill="#FFFFFF" height="252.1055" style="stroke:#181818;stroke-width:1.0;" width="10" x="743" y="142.1094"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="743" y="540.7676"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="743" y="702.2754"/><rect fill="#FFFFFF" height="193.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="1061" y="171.4199"/><rect fill="#FFFFFF" height="58.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="1061" y="599.3887"/><rect fill="#FFFFFF" height="117.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="1408" y="335.5938"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1408" y="570.0781"/><rect fill="#FFFFFF" height="55.2764" style="stroke:#181818;stroke-width:1.0;" width="10" x="1550.5" y="226.6963"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1550.5" y="628.6992"/><polygon fill="#181818" points="407,108.7988,417,112.7988,407,116.7988,411,112.7988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="43.5" x2="413" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="50.5" y="108.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="63.5" y="108.0566">POST /api/signIn</text><polygon fill="#181818" points="731,138.1094,741,142.1094,731,146.1094,735,142.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="429" x2="737" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="436" y="137.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="449" y="137.3672">signIn(signInData: SignInData): Boolean</text><polygon fill="#181818" points="1049,167.4199,1059,171.4199,1049,175.4199,1053,171.4199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753" x2="1055" y1="171.4199" y2="171.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="760" y="166.6777">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="773" y="166.6777">signIn(signInData: SignInData): Boolean</text><polygon fill="#181818" points="1538.5,222.6963,1548.5,226.6963,1538.5,230.6963,1542.5,226.6963" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1071" x2="1544.5" y1="226.6963" y2="226.6963"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1078" y="221.9541">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330" x="1091" y="221.9541">query(query: String, args: List&lt;String&gt;): QueryResult</text><path d="M1565,184.4199 L1565,255.4199 L1665,255.4199 L1665,194.4199 L1655,184.4199 L1565,184.4199 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1655,184.4199 L1655,194.4199 L1665,194.4199 L1655,184.4199 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="1571" y="201.9883">check if</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="1571" y="217.2988">credentials</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1571" y="232.6094">are not</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="1571" y="247.9199">already used</text><polygon fill="#181818" points="1082,277.9727,1072,281.9727,1082,285.9727,1078,281.9727" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1076" x2="1554.5" y1="281.9727" y2="281.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1088" y="277.2305">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="1101" y="277.2305">QueryResult</text><path d="M10,296.9727 L72,296.9727 L72,304.2832 L62,314.2832 L10,314.2832 L10,296.9727 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="471.9238" style="stroke:#000000;stroke-width:1.5;" width="1611.5" x="10" y="296.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="310.541">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="122" x="87" y="309.6074">[QueryResult is NULL]</text><polygon fill="#181818" points="1396,331.5938,1406,335.5938,1396,339.5938,1400,335.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1071" x2="1402" y1="335.5938" y2="335.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1078" y="330.8516">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305" x="1091" y="330.8516">sendNotification(notification: Notification): Void</text><polygon fill="#181818" points="764,360.9043,754,364.9043,764,368.9043,760,364.9043" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758" x2="1065" y1="364.9043" y2="364.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="770" y="360.1621">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="783" y="360.1621">True (confirmation mail sent)</text><polygon fill="#181818" points="440,390.2148,430,394.2148,440,398.2148,436,394.2148" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="747" y1="394.2148" y2="394.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="446" y="389.4727">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="459" y="389.4727">True (confirmation mail sent)</text><polygon fill="#181818" points="54.5,419.5254,44.5,423.5254,54.5,427.5254,50.5,423.5254" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="48.5" x2="423" y1="423.5254" y2="423.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="60.5" y="418.7832">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="73.5" y="418.7832">Page: &lt;&lt;confirmation mail sent&gt;&gt;</text><polygon fill="#181818" points="307.5,448.8359,297.5,452.8359,307.5,456.8359,303.5,452.8359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="301.5" x2="1412" y1="452.8359" y2="452.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="313.5" y="448.0938">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="335.5" y="448.0938">send email with text</text><polygon fill="#181818" points="54.5,478.1465,44.5,482.1465,54.5,486.1465,50.5,482.1465" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.5" x2="290.5" y1="482.1465" y2="482.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="60.5" y="477.4043">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="82.5" y="477.4043">email &lt;&lt;confirmation email&gt;&gt;</text><polygon fill="#181818" points="407,507.457,417,511.457,407,515.457,411,511.457" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="43.5" x2="413" y1="511.457" y2="511.457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="50.5" y="506.7148">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="72.5" y="506.7148">POST /api/confirm</text><polygon fill="#181818" points="731,536.7676,741,540.7676,731,544.7676,735,540.7676" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="424" x2="737" y1="540.7676" y2="540.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="431" y="536.0254">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="453" y="536.0254">receiveResponse(response: Response): Void</text><polygon fill="#181818" points="1396,566.0781,1406,570.0781,1396,574.0781,1400,570.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="748" x2="1402" y1="570.0781" y2="570.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="755" y="565.3359">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="777" y="565.3359">receiveResponse(response: Response): Void</text><polygon fill="#181818" points="1082,595.3887,1072,599.3887,1082,603.3887,1078,599.3887" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1076" x2="1412" y1="599.3887" y2="599.3887"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1088" y="594.6465">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="1110" y="594.6465">createAccount(email: String): Void</text><polygon fill="#181818" points="1538.5,624.6992,1548.5,628.6992,1538.5,632.6992,1542.5,628.6992" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1071" x2="1544.5" y1="628.6992" y2="628.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1078" y="623.957">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330" x="1100" y="623.957">query(query: String, args: List&lt;String&gt;): QueryResult</text><polygon fill="#181818" points="1077,654.0098,1067,658.0098,1077,662.0098,1073,658.0098" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1071" x2="1554.5" y1="658.0098" y2="658.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1083" y="653.2676">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="1105" y="653.2676">QueryResult</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1621.5" y1="667.0098" y2="667.0098"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="144" x="15" y="677.6445">[QueryResult is not NULL]</text><polygon fill="#181818" points="764,698.2754,754,702.2754,764,706.2754,760,702.2754" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758" x2="1065" y1="702.2754" y2="702.2754"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="770" y="697.5332">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="792" y="697.5332">Exception: email/RMPHandle already exists</text><polygon fill="#181818" points="440,727.5859,430,731.5859,440,735.5859,436,731.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="434" x2="747" y1="731.5859" y2="731.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="446" y="726.8438">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="468" y="726.8438">Exception: email/RMPHandle already exists</text><polygon fill="#181818" points="54.5,756.8965,44.5,760.8965,54.5,764.8965,50.5,760.8965" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="48.5" x2="423" y1="760.8965" y2="760.8965"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="60.5" y="756.1543">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="82.5" y="756.1543">Exception: email/RMPHandle already exists</text><!--MD5=[ea6a052542f7a2c12aaff24f91de183b]
@startuml

autonumber

actor User as U
participant EmailProvider as EP
participant WebServerModule as WS
participant Controller as C
participant SignInManager as SIM
participant NotificationManager as NM
participant DBMSManager as DBMSM

activate U
U -> WS: POST /api/signIn
activate WS
WS -> C: signIn(signInData: SignInData): Boolean
activate C
C -> SIM: signIn(signInData: SignInData): Boolean
activate SIM
SIM -> DBMSM: query(query: String, args: List<String>): QueryResult
note right
    check if 
    credentials
    are not 
    already used
end note
activate DBMSM
DBMSM - -> SIM: QueryResult
deactivate DBMSM
alt QueryResult is NULL
    SIM -> NM: sendNotification(notification: Notification): Void
    activate NM
    SIM - -> C: True (confirmation mail sent)
    deactivate SIM
    C - -> WS: True (confirmation mail sent)
    deactivate C
    WS - -> U: Page: <<confirmation mail sent>>
    deactivate WS
    NM -> EP: send email with text
    deactivate NM
    activate EP
    EP -> U: email <<confirmation email>>
    deactivate EP
    U -> WS: POST /api/confirm
    activate WS
    WS -> C: receiveResponse(response: Response): Void
    deactivate WS
    activate C
    C -> NM: receiveResponse(response: Response): Void
    deactivate C
    activate NM
    NM -> SIM: createAccount(email: String): Void
    deactivate NM
    activate SIM
    SIM -> DBMSM: query(query: String, args: List<String>): QueryResult
    activate DBMSM
    DBMSM - -> SIM: QueryResult
    deactivate DBMSM
    deactivate SIM
else QueryResult is not NULL
    SIM - -> C: Exception: email/RMPHandle already exists
    activate C
    C - -> WS: Exception: email/RMPHandle already exists
    deactivate C
    activate WS
    WS - -> U: Exception: email/RMPHandle already exists
    deactivate WS
end

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: it
Country: IT
--></g></svg>