<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="646px" preserveAspectRatio="none" style="width:1395px;height:646px;background:#FFFFFF;" version="1.1" viewBox="0 0 1395 646" width="1395px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="346.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.5" y="91.4883"/><rect fill="#FFFFFF" height="324.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="315.5" y="112.7988"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="315.5" y="511.1016"/><rect fill="#FFFFFF" height="266.1055" style="stroke:#181818;stroke-width:1.0;" width="10" x="597.5" y="142.1094"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="597.5" y="481.791"/><rect fill="#FFFFFF" height="207.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="874.5" y="171.4199"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1129.5" y="320.2832"/><rect fill="#FFFFFF" height="47.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="1260.5" y="219.041"/><rect fill="none" height="266.75" style="stroke:#000000;stroke-width:1.5;" width="1199.5" x="10" y="281.6621"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="38" x2="38" y1="81.4883" y2="565.4121"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="320" x2="320" y1="81.4883" y2="565.4121"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="602.5" x2="602.5" y1="81.4883" y2="565.4121"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="879.5" x2="879.5" y1="81.4883" y2="565.4121"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1134.5" x2="1134.5" y1="81.4883" y2="565.4121"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1265.5" x2="1265.5" y1="81.4883" y2="565.4121"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="20" y="78.5352">User</text><ellipse cx="38.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.5,21.5 L38.5,48.5 M25.5,29.5 L51.5,29.5 M38.5,48.5 L25.5,63.5 M38.5,48.5 L51.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="20" y="577.9473">User</text><ellipse cx="38.5" cy="589.4004" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.5,597.4004 L38.5,624.4004 M25.5,605.4004 L51.5,605.4004 M38.5,624.4004 L25.5,639.4004 M38.5,624.4004 L51.5,639.4004 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="252" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="259" y="70.5352">WebServerModule</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="252" y="564.4121"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="259" y="584.9473">WebServerModule</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="560.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="567.5" y="70.5352">Controller</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="560.5" y="564.4121"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="567.5" y="584.9473">Controller</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="823.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="830.5" y="70.5352">LoginManager</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="823.5" y="564.4121"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="830.5" y="584.9473">LoginManager</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="1069.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1076.5" y="70.5352">AccountManager</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="1069.5" y="564.4121"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1076.5" y="584.9473">AccountManager</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="1209.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1216.5" y="70.5352">DBMSManager</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="1209.5" y="564.4121"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1216.5" y="584.9473">DBMSManager</text><rect fill="#FFFFFF" height="346.0371" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.5" y="91.4883"/><rect fill="#FFFFFF" height="324.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="315.5" y="112.7988"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="315.5" y="511.1016"/><rect fill="#FFFFFF" height="266.1055" style="stroke:#181818;stroke-width:1.0;" width="10" x="597.5" y="142.1094"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="597.5" y="481.791"/><rect fill="#FFFFFF" height="207.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="874.5" y="171.4199"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1129.5" y="320.2832"/><rect fill="#FFFFFF" height="47.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="1260.5" y="219.041"/><polygon fill="#181818" points="303.5,108.7988,313.5,112.7988,303.5,116.7988,307.5,112.7988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="43.5" x2="309.5" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="50.5" y="108.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="63.5" y="108.0566">POST /api/logIn</text><polygon fill="#181818" points="585.5,138.1094,595.5,142.1094,585.5,146.1094,589.5,142.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="325.5" x2="591.5" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="332.5" y="137.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="345.5" y="137.3672">logIn(logInData: LogInData): Session</text><polygon fill="#181818" points="862.5,167.4199,872.5,171.4199,862.5,175.4199,866.5,171.4199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="607.5" x2="868.5" y1="171.4199" y2="171.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="614.5" y="166.6777">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="627.5" y="166.6777">logIn(logInData: LogInData): Session</text><polygon fill="#181818" points="1248.5,215.041,1258.5,219.041,1248.5,223.041,1252.5,219.041" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="884.5" x2="1254.5" y1="219.041" y2="219.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="891.5" y="214.2988">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330" x="904.5" y="214.2988">query(query: String, args: List&lt;String&gt;): QueryResult</text><path d="M1275,184.4199 L1275,239.4199 L1388,239.4199 L1388,194.4199 L1378,184.4199 L1275,184.4199 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1378,184.4199 L1378,194.4199 L1388,194.4199 L1378,184.4199 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="1281" y="201.9883">check if email</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="1281" y="217.2988">and password</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="1281" y="232.6094">match</text><polygon fill="#181818" points="895.5,262.6621,885.5,266.6621,895.5,270.6621,891.5,266.6621" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="889.5" x2="1264.5" y1="266.6621" y2="266.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="901.5" y="261.9199">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="914.5" y="261.9199">QueryResult</text><path d="M10,281.6621 L72,281.6621 L72,288.9727 L62,298.9727 L10,298.9727 L10,281.6621 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="266.75" style="stroke:#000000;stroke-width:1.5;" width="1199.5" x="10" y="281.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="295.2305">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="157" x="87" y="294.2969">[if QueryResult is not NULL]</text><polygon fill="#181818" points="1117.5,316.2832,1127.5,320.2832,1117.5,324.2832,1121.5,320.2832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="884.5" x2="1123.5" y1="320.2832" y2="320.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="891.5" y="315.541">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="904.5" y="315.541">createSession(user: User): Session</text><polygon fill="#181818" points="895.5,345.5938,885.5,349.5938,895.5,353.5938,891.5,349.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="889.5" x2="1133.5" y1="349.5938" y2="349.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="901.5" y="344.8516">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="914.5" y="344.8516">Session</text><polygon fill="#181818" points="618.5,374.9043,608.5,378.9043,618.5,382.9043,614.5,378.9043" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="612.5" x2="878.5" y1="378.9043" y2="378.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="624.5" y="374.1621">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="637.5" y="374.1621">Session</text><polygon fill="#181818" points="336.5,404.2148,326.5,408.2148,336.5,412.2148,332.5,408.2148" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="330.5" x2="601.5" y1="408.2148" y2="408.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="342.5" y="403.4727">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="355.5" y="403.4727">Session</text><polygon fill="#181818" points="49.5,433.5254,39.5,437.5254,49.5,441.5254,45.5,437.5254" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="43.5" x2="319.5" y1="437.5254" y2="437.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="55.5" y="432.7832">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="77.5" y="432.7832">User homepage</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1209.5" y1="446.5254" y2="446.5254"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="135" x="15" y="457.1602">[if QueryResult is NULL]</text><polygon fill="#181818" points="618.5,477.791,608.5,481.791,618.5,485.791,614.5,481.791" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="612.5" x2="878.5" y1="481.791" y2="481.791"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="624.5" y="477.0488">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="646.5" y="477.0488">Exception: Invalid email or password</text><polygon fill="#181818" points="336.5,507.1016,326.5,511.1016,336.5,515.1016,332.5,511.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="330.5" x2="601.5" y1="511.1016" y2="511.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="342.5" y="506.3594">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="364.5" y="506.3594">Exception: Invalid email or password</text><polygon fill="#181818" points="49.5,536.4121,39.5,540.4121,49.5,544.4121,45.5,540.4121" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="43.5" x2="319.5" y1="540.4121" y2="540.4121"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="55.5" y="535.6699">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="77.5" y="535.6699">Exception: Invalid email or password</text><!--MD5=[aa98c7ca72dc4c13ec1df4bbae395108]
@startuml

autonumber

actor User as U
participant WebServerModule as WS
participant Controller as C
participant LoginManager as LM
participant AccountManager as AM
participant DBMSManager as DBMSM

activate U
U -> WS: POST /api/logIn
activate WS
WS -> C: logIn(logInData: LogInData): Session
activate C
C -> LM: logIn(logInData: LogInData): Session
activate LM
LM -> DBMSM: query(query: String, args: List<String>): QueryResult
note right
    check if email 
    and password 
    match
end note
activate DBMSM
DBMSM - -> LM: QueryResult
deactivate DBMSM
alt if QueryResult is not NULL
    LM -> AM: createSession(user: User): Session
    activate AM
    AM - -> LM: Session
    deactivate AM
    LM - -> C: Session
    deactivate LM
    C - -> WS: Session
    deactivate C
    WS - -> U: User homepage
    deactivate WS
    deactivate U
else if QueryResult is NULL
    LM - -> C: Exception: Invalid email or password
    activate C
    C - -> WS: Exception: Invalid email or password
    deactivate C
    activate WS
    WS - -> U: Exception: Invalid email or password
    deactivate WS
end

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: it
Country: IT
--></g></svg>